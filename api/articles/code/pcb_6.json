{"title":"pcb_6","slug":"code/pcb_6","date":"2022-10-18T11:58:28.000Z","updated":"2023-05-28T10:30:27.363Z","comments":true,"path":"api/articles/code/pcb_6.json","excerpt":null,"covers":["https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-32.png","https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-49.png","https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-13-53.png","https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-17-43.png","https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-30-19-25-58.png"],"content":"<h1 id=\"记录第一次画6层板的过程\"><a href=\"#记录第一次画6层板的过程\" class=\"headerlink\" title=\"记录第一次画6层板的过程\"></a>记录第一次画6层板的过程</h1><p>为防止意外,添加了水印</p>\n<h2 id=\"设计目标\"><a href=\"#设计目标\" class=\"headerlink\" title=\"设计目标\"></a>设计目标</h2><p>最近做实验气阀控制板上面的接口总是不够用，最近正好有时间，就想着做一个，这个板子的目标是：</p>\n<ol>\n<li>可扩展</li>\n<li>闭环</li>\n<li>尽可能多的接口</li>\n<li>尽可能小 （不喜欢太大的板子）</li>\n<li>i2c接口 （单纯的不喜欢spi）</li>\n<li>6层板 （前两天看见6层板免费了，还有盘中孔工艺）</li>\n</ol>\n<h2 id=\"芯片选型\"><a href=\"#芯片选型\" class=\"headerlink\" title=\"芯片选型\"></a>芯片选型</h2><p>气阀主要是pwm信号来控制的，在半岛小芯上面根据自己的需求筛选了一下芯片，最终选定了一款16路pwm芯片和adc芯片，以及一个附加的参考电压芯片。</p>\n<ul>\n<li>pca9685 一款led驱动芯片  有62个可选地址</li>\n<li>ltc2497 adc芯片         有28个可选地址</li>\n<li>lt1236-5 5v参考电压芯片</li>\n</ul>\n<p>所以最终理论最大气阀接口数量为 16*28&#x3D;448</p>\n<p>足够了</p>\n<h2 id=\"电路设计\"><a href=\"#电路设计\" class=\"headerlink\" title=\"电路设计\"></a>电路设计</h2><p>pwm信号通过运放进行放大驱动气阀，adc读取气阀反馈值，通过主控芯片进行闭环运算。</p>\n<p>整体参考官方手册进行设计，有两个要注意的是：</p>\n<ol>\n<li>输入电压12V 需要降压电路</li>\n<li>5V 3.3V 都需要，比较麻烦</li>\n</ol>\n<p>结果如下：</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-32.png\"></p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-49.png\">  </p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-13-53.png\"></p>\n<h2 id=\"pcb-绘制\"><a href=\"#pcb-绘制\" class=\"headerlink\" title=\"pcb 绘制\"></a>pcb 绘制</h2><p>这里闹了笑话</p>\n<p>一开始搞不清 过孔 埋孔 盲埋孔（读者请自行百度）画了一堆盲埋孔（制作工艺复杂）嘉立创无法生产，后来又在孔的直径上面出了问题 免费直径 0.45</p>\n<p>最终还是画好了</p>\n<p>结果如下</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-17-43.png\"></p>\n<p>不同颜色代表不同的层  关于6层板的层定义这里不再写。</p>\n<h2 id=\"芯片采购\"><a href=\"#芯片采购\" class=\"headerlink\" title=\"芯片采购\"></a>芯片采购</h2><p>板子大部分都直接smt贴片了，只有三个芯片自行邮寄</p>\n<p>这里又被淘宝坑了一波，他没货不跟我说，也怪我，耽误了5天</p>\n<p>芯片不到pcb都不做！！！！嘉立创规则。。。。。。我的错</p>\n<h2 id=\"到货\"><a href=\"#到货\" class=\"headerlink\" title=\"到货\"></a>到货</h2><p>讲真 到货后大吃一惊 如图</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-30-19-25-58.png\"></p>\n<ul>\n<li>芯片漏贴一个(芯片封装我买错了,打了电话芯片才寄过来自己手动改造了一下)</li>\n<li>2.54排针弄成了1.27排针……….</li>\n</ul>\n<p>TODO 程序验证</p>\n<h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><p>PWM 没有进行RC滤波处理<br>ADC 转换速率慢7.5SPS</p>\n<p>项目上肯定是不能用了</p>\n<p>续集无了</p>\n","more":"<h1 id=\"记录第一次画6层板的过程\"><a href=\"#记录第一次画6层板的过程\" class=\"headerlink\" title=\"记录第一次画6层板的过程\"></a>记录第一次画6层板的过程</h1><p>为防止意外,添加了水印</p>\n<h2 id=\"设计目标\"><a href=\"#设计目标\" class=\"headerlink\" title=\"设计目标\"></a>设计目标</h2><p>最近做实验气阀控制板上面的接口总是不够用，最近正好有时间，就想着做一个，这个板子的目标是：</p>\n<ol>\n<li>可扩展</li>\n<li>闭环</li>\n<li>尽可能多的接口</li>\n<li>尽可能小 （不喜欢太大的板子）</li>\n<li>i2c接口 （单纯的不喜欢spi）</li>\n<li>6层板 （前两天看见6层板免费了，还有盘中孔工艺）</li>\n</ol>\n<h2 id=\"芯片选型\"><a href=\"#芯片选型\" class=\"headerlink\" title=\"芯片选型\"></a>芯片选型</h2><p>气阀主要是pwm信号来控制的，在半岛小芯上面根据自己的需求筛选了一下芯片，最终选定了一款16路pwm芯片和adc芯片，以及一个附加的参考电压芯片。</p>\n<ul>\n<li>pca9685 一款led驱动芯片  有62个可选地址</li>\n<li>ltc2497 adc芯片         有28个可选地址</li>\n<li>lt1236-5 5v参考电压芯片</li>\n</ul>\n<p>所以最终理论最大气阀接口数量为 16*28&#x3D;448</p>\n<p>足够了</p>\n<h2 id=\"电路设计\"><a href=\"#电路设计\" class=\"headerlink\" title=\"电路设计\"></a>电路设计</h2><p>pwm信号通过运放进行放大驱动气阀，adc读取气阀反馈值，通过主控芯片进行闭环运算。</p>\n<p>整体参考官方手册进行设计，有两个要注意的是：</p>\n<ol>\n<li>输入电压12V 需要降压电路</li>\n<li>5V 3.3V 都需要，比较麻烦</li>\n</ol>\n<p>结果如下：</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-32.png\"></p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-10-49.png\">  </p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-13-53.png\"></p>\n<h2 id=\"pcb-绘制\"><a href=\"#pcb-绘制\" class=\"headerlink\" title=\"pcb 绘制\"></a>pcb 绘制</h2><p>这里闹了笑话</p>\n<p>一开始搞不清 过孔 埋孔 盲埋孔（读者请自行百度）画了一堆盲埋孔（制作工艺复杂）嘉立创无法生产，后来又在孔的直径上面出了问题 免费直径 0.45</p>\n<p>最终还是画好了</p>\n<p>结果如下</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-18-20-17-43.png\"></p>\n<p>不同颜色代表不同的层  关于6层板的层定义这里不再写。</p>\n<h2 id=\"芯片采购\"><a href=\"#芯片采购\" class=\"headerlink\" title=\"芯片采购\"></a>芯片采购</h2><p>板子大部分都直接smt贴片了，只有三个芯片自行邮寄</p>\n<p>这里又被淘宝坑了一波，他没货不跟我说，也怪我，耽误了5天</p>\n<p>芯片不到pcb都不做！！！！嘉立创规则。。。。。。我的错</p>\n<h2 id=\"到货\"><a href=\"#到货\" class=\"headerlink\" title=\"到货\"></a>到货</h2><p>讲真 到货后大吃一惊 如图</p>\n<p><img src=\"https://image.wxydejoy.top/cundf/others/pcb_6.md/2022-10-30-19-25-58.png\"></p>\n<ul>\n<li>芯片漏贴一个(芯片封装我买错了,打了电话芯片才寄过来自己手动改造了一下)</li>\n<li>2.54排针弄成了1.27排针……….</li>\n</ul>\n<p>TODO 程序验证</p>\n<h2 id=\"结果\"><a href=\"#结果\" class=\"headerlink\" title=\"结果\"></a>结果</h2><p>PWM 没有进行RC滤波处理<br>ADC 转换速率慢7.5SPS</p>\n<p>项目上肯定是不能用了</p>\n<p>续集无了</p>\n","categories":[],"tags":[]}